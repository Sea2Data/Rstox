% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rstox_boostrap.r
\name{runBootstrap}
\alias{runBootstrap}
\alias{runBootstrap_1.6}
\alias{runBootstrap_AcousticTrawl}
\alias{runBootstrap_SweptAreaLength}
\alias{runBootstrap_SweptAreaTotal}
\title{Run a bootstrap in StoX}
\usage{
runBootstrap(
  projectName,
  bootstrapMethod = "AcousticTrawl",
  acousticMethod = PSU ~ Stratum,
  bioticMethod = PSU ~ Stratum,
  nboot = 5,
  startProcess = "TotalLengthDist",
  endProcess = "SuperIndAbundance",
  seed = 1,
  cores = 1,
  msg = TRUE,
  sorted = TRUE,
  JavaMem = getRstoxDef("JavaMem"),
  ...
)

runBootstrap_1.6(
  projectName,
  bootstrapMethod = "AcousticTrawl",
  acousticMethod = PSU ~ Stratum,
  bioticMethod = PSU ~ Stratum,
  nboot = 5,
  startProcess = "TotalLengthDist",
  endProcess = "SuperIndAbundance",
  seed = 1,
  cores = 1,
  msg = TRUE,
  ...
)

runBootstrap_AcousticTrawl(
  projectName,
  acousticMethod = PSU ~ Stratum,
  bioticMethod = PSU ~ Stratum,
  nboot = 5,
  startProcess = "TotalLengthDist",
  endProcess = "SuperIndAbundance",
  seed = 1,
  cores = 1,
  msg = TRUE,
  sorted = TRUE,
  JavaMem = getRstoxDef("JavaMem"),
  ...
)

runBootstrap_SweptAreaLength(
  projectName,
  acousticMethod = NULL,
  bioticMethod = PSU ~ Stratum,
  nboot = 5,
  startProcess = "TotalLengthDist",
  endProcess = "SuperIndAbundance",
  seed = 1,
  cores = 1,
  msg = TRUE,
  sorted = TRUE,
  JavaMem = getRstoxDef("JavaMem"),
  ...
)

runBootstrap_SweptAreaTotal(
  projectName,
  acousticMethod = NULL,
  bioticMethod = PSU ~ Stratum,
  startProcess = "SweptAreaDensity",
  endProcess = NULL,
  nboot = 5,
  seed = 1,
  cores = 1,
  ignore.case = TRUE,
  sorted = TRUE,
  ...
)
}
\arguments{
\item{projectName}{The name or full path of the project, a baseline object (as returned from \code{\link{getBaseline}} or \code{\link{runBaseline}}, og a project object (as returned from \code{\link{openProject}}).}

\item{bootstrapMethod}{The method to use for the bootstrap. Currently implemented are given in the following table:
\tabular{rr}{
  bootstrapMethod \tab Description\cr
  AcousticTrawl \tab Bootstrap of acoustic tralw surveys, where both acoustic and biotic data are resampled\cr
  SweptAreaLength \tab Bootstrap only biotic data with length information\cr
  SweptAreaTotal \tab For surveys with information only about total catch (count or weight), bootstrap biotic stations\cr
}}

\item{acousticMethod, bioticMethod}{Specification of the method to use for bootstrapping the acoustic and biotic data. Currently only one method is available for acoustic and one for biotic data: acousticMethod = PSU~Stratum, bioticMethod = PSU~Stratum. Other methods are planned in later versions, involving the levels of the data given in the below table.
\tabular{rrr}{
  Level \tab Acoustic \tab Biotic\cr
  Survey \tab Survey \tab Survey\cr
  Stratum \tab Stratum \tab Stratum\cr
  Assignment \tab Not relevant \tab Assignment of biotic station groups to acoustic PSUs\cr
  PSU \tab Acoustic data averaged over e.g. one tansect \tab Biotic station group \cr
  EDSU \tab Acoustic data averaged over e.g. one nmi \tab Biotic station\cr
  Sample \tab Ping \tab Individal catch sample
}}

\item{nboot}{Number of bootstrap replicates.}

\item{startProcess}{The start process of the bootstrapping, e.g., the last process before bio-stations have been assigned and NASC values have been calculated.}

\item{endProcess}{The end process of the bootstrapping, e.g., the process returning a matrix containing the following columns: "Stratum", "Abundance", "weight", and grouping variables such as "age", "SpecCat", "sex" (typically "SuperIndAbundance").}

\item{seed}{The seed for the random number generator (used for reproducibility).}

\item{cores}{An integer giving the number of cores to run the bootstrapping over.}

\item{msg}{Logical: if TRUE print messages from runBaseline().}

\item{sorted}{Should the data be sorted prior to sampling?}

\item{JavaMem}{The memory occupied by the Java virtual machine. Default is returned by getRstoxDef("JavaMem"). Reducing this may be usefull when using mutiple cores.}

\item{...}{Used for backwards compatibility.}

\item{ignore.case}{Logical: If TRUE ignore case in species category SpecCat.}
}
\value{
list with (1) the abundance by length in the orginal model, (2) the abundance by length in the bootstrap run, (3) the abundance by super individuals in the orginal model, (4) the abundance by super individuals in the bootstrap run
}
\description{
\code{runBootstrap} is a wrapper function for the bootstrap functions below. \cr \cr
\code{runBootstrap_1.6} runs the bootstrap of Rstox 1.6. The bootstrap changed from Rstox 1.6 to 1.7, by applying sorting prior to sampling, and different results (but with the same expected value) should be expected. Using \code{runBootstrap_1.6} identical results from previous runs should be expected. \cr \cr
\code{runBootstrap_AcousticTrawl} runs a simple bootstrap of biotic PSUs within strata. \cr \cr
\code{runBootstrap_SweptAreaLength} runs a simple bootstrap of biotic PSUs within strata. \cr \cr
\code{runBootstrap_SweptAreaTotal} runs a simple bootstrap of biotic PSUs within strata. \cr \cr
}
\details{
Resample (bootstrap) trawl stations based on swept area data and possibly also acoustic data to estimate uncertainty in estimates. By the default method (bootstrapMethod="AcousticTrawl"), the acoustic transect values (mean NASC along transects) and biotic stations (trawls) are resampled with replacement within each stratum for each bootstrap replicate, and the StoX project rerun and super individual abundance recalculated (or the output from a different process given by \code{endProcess}).
}
\examples{
\dontrun{
projectName <- "Test_Rstox"
boot <- runBootstrap(projectName, nboot=10, seed=1, bootstrapMethod="AcousticTrawl")
}

}
