# Rstox version: 1.11.1 (latest alpha, 2020-06-19)
# R version: 3.5

# R implementation of the functionality of the stock assesment utility StoX, which is an open source application fo acoustic-trawl and swept-area survey estimation.

# The core funciton of the package is \code{\link{getBaseline}} which runs a StoX project and retrieves the output and input parameters. The functions \code{\link{runBootstrap}} and \code{\link{imputeByAge}} are used by StoX for estimating the variance of the survey estimate. The functions \code{\link{getReports}} and \code{\link{getPlots}} are used to run report and plot funcitons relevant for the type of StoX project.
# Rstox supports a variety of other uses, such as downloading biotic and acoustic data from the Norwegian Marine Data Center through \code{\link{getNMDinfo}} and \code{\link{getNMDdata}}. The data are placed in StoX projects, enabling the data to be read using \code{\link{getBaseline}}. The function \code{\link{readXMLfiles}} can be used to simply read an acoustic or biotic xml file into R memory (via a temporary StoX project). The simpler function \code{\link{downloadXML}} reads an arbitrary XML file into a list. It is also possible to write acoustic and biotic XML file in the MND echosounder (version 1.0) and biotic (version 1.4 and 3.0) format.
# Rstox also contains functions for generating and reporting parallel or zigzag transect lines for use in a survey through \code{\link{surveyPlanner}}.
# Soon to be implemented is running the Estimated Catch at Age (ECA) model develped by the Norwegian Computing Center and the Norwegian Institute of Marine Research.

# Install the latest GitHub release:
devtools::install_github("https://github.com/Sea2Data/Rstox", ref = "Rstox-v1.11.1")
# ... or install the develop version from GitHub:
# devtools::install_github("https://github.com/Sea2Data/Rstox", ref = "develop")

# To do this, uncheck the box "32-bit Files" when selecting components to install.
# If you are re-installing an R that has both 32 and 64 bit, you will need to uninstall R first.

# On Windows systems with adminstrator requirements, it is recommended to install R in C:/users/<user>/documents/R.
# Also if you are using Rstudio, please make sure that you are using the correct R version (in case you have
# multiple versions installed). The R version can be selected in Tools > Global Options.

# Note that 64 bit Java is required to run Rstox

# On Windows, install Java from this webpage: https://www.java.com/en/download/windows-64bit.jsp,
# or follow the instructions found on ftp://ftp.imr.no/StoX/Tutorials/

# On Mac, getting Java and Rstox to communicate can be challenging.
# If you run into problems such as "Unsupported major.minor version ...", try the following:
# Update java, on
# 	http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html
# If this does not work install first the JDK and then the JRE:
# 	http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
# 	http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html
# Rstox sohuld also work with Java 11, presently available only as Development Kit:
# 	https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html
# You may want to check that the downloaded version is first in the list by running the following in the Terminal:
# 	/usr/libexec/java_home -V
# 	java -version
# Then run this in the Terminal.app (you will be asked for password, but the password will not show as you type.
# It is possible to type the password in a text editor first and then paste it into the Terminal.):
# 	sudo ln -s $(/usr/libexec/java_home)/jre/lib/server/libjvm.dylib /usr/local/lib
# 	sudo R CMD javareconf
# Open R (close and then open if already open) and install rJava:
# 	utils::install.packages('rJava', type='source')
# 	utils::install.packages('rJava', type="binary")
# If this fails, try installing from source instead using utils::install.packages('rJava', type='source')
# Then the installed Rstox should work.

# Release notes for Rstox_1.11.1:

# 1. Added the option ref=NULL in aggregateBySpeciesCategory(), allowing for no reference file for grouping species into catecories.

# 2. Added the option of merging strata by specifying the parameter 'strata' as a list. The other parameters need to be given for the merged strata, so that if three strata are merged the hours/nmi of these should be summed to obtain similar effort as in the unmerged strata.

# 3. Fixed bug in plotAbundance() when there is only one non-NA level of either 'grp1' or 'grp2'.

# 4. Added the function plotFishStation() (and supporting funcitons) to plot the stations of a StoX project by species, possibly in different colors.

# 5. Changed all serialno to serialnumber according to the change from biotic 1.4 to biotic 3.0 applied in StoX as of 2.7.7.

# 6. Fixed bug in writeTransectsMaxSea() which should now only contain non-negative values with correct N/S and E/W. Also changed the parameter projectName of this and related write funcitons to having default projectName=NULL, allowing for extraction of the project name in the input list x.

# 7. Fixed bug in writeTransectsINFO(), where survey coverage included transport.

# 8. Added support for only specifying cruise number in getNMDdata(), in which case data from all cruises are downloaded to a single project named only by the cruise number.

# 9. Removed the process SweptAreaDensity in the test project, as this does not naturally belong to an acoustic-trawl StoX project.

# 10. Fixed bug in readXMLfiles(), where biotic data were duplicated.

# For historical release notes see https://github.com/Sea2Data/Rstox/blob/master/NEWS
